(this.webpackJsonpprivate=this.webpackJsonpprivate||[]).push([[0],{102:function(e,t,a){},103:function(e,t,a){},105:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(49),c=a.n(l),i=a(13),s=a(29),u=a(76),o=a.n(u),d=Object.freeze({type:"cloudy",minTemp:"",maxTemp:""}),m=a(42),E=a(60),_=a(70),y=a.n(_),p=function(e){var t=e.label,a=e.id,n=Object(E.a)(e,["label","id"]),l=Object(s.c)(n),c=Object(m.a)(l,2),i=c[0],u=c[1];return r.a.createElement("div",{className:y.a["custom-input"]},r.a.createElement("label",{htmlFor:a},t),r.a.createElement("input",Object.assign({id:a},i,n)),u.touched&&u.error&&r.a.createElement("div",{className:y.a.error},u.error))},f=a(64),b=a.n(f),T=function(e){var t=e.label,a=Object(E.a)(e,["label"]),n=Object(s.c)(a),l=Object(m.a)(n,1)[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{className:b.a.radio},t,r.a.createElement("input",Object.assign({className:b.a.radio__input},l,a)),r.a.createElement("span",{className:b.a.radio__box})))},v=a(66),h=v.b().shape({minTemp:v.a().integer("\u0414\u0440\u043e\u0431\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u043d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e!"),maxTemp:v.a().integer("\u0414\u0440\u043e\u0431\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u043d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e!")}),S=a(30),O=a.n(S),R=Object.freeze({weather:{fetch:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(fetch("".concat("https://lab.lectrum.io/rtx/api/forecast"),{method:"GET"}));case 2:if(!((e=t.sent).status>=400&&e.status<500)){t.next=7;break}throw new Error("Client Error");case 7:if(!(e.status>=500)){t.next=9;break}throw new Error("Server Error");case 9:return t.abrupt("return",e);case 10:case"end":return t.stop()}}))}))}}),F=Object.freeze({WEATHER_START_FETCHING:"WEATHER_START_FETCHING",WEATHER_STOP_FETCHING:"WEATHER_STOP_FETCHING",WEATHER_SET_FETCHING_ERROR:"WEATHER_SET_FETCHING_ERROR",WEATHER_SELECT_DAY:"WEATHER_SELECT_DAY",WEATHER_FILL_DAYS:"WEATHER_FILL_DAYS",WEATHER_FILTER:"WEATHER_FILTER"}),g=Object.freeze({startFetching:function(){return{type:F.WEATHER_START_FETCHING}},stopFetching:function(){return{type:F.WEATHER_STOP_FETCHING}},fill:function(e){return{type:F.WEATHER_FILL_DAYS,payload:e}},setFetchingError:function(e){return{type:F.WEATHER_SET_FETCHING_ERROR,error:!0,payload:e}},selectDay:function(e){return{type:F.WEATHER_SELECT_DAY,payload:e}},filter:function(e){return{type:F.WEATHER_FILTER,payload:e}},fetchDays:function(){return function(e){var t,a,n,r;return O.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return e(g.startFetching()),l.prev=1,l.next=4,O.a.awrap(R.weather.fetch());case 4:return t=l.sent,l.next=7,O.a.awrap(t.json());case 7:a=l.sent,n=a.data,e(g.fill(n)),l.next=16;break;case 12:l.prev=12,l.t0=l.catch(1),r={message:l.t0.message},e(g.setFetchingError(r));case 16:return l.prev=16,e(g.stopFetching()),l.finish(16);case 19:case"end":return l.stop()}}),null,null,[[1,12,16,19]])}}}),A=function(){var e=function(){var e=Object(i.b)(),t=Object(n.useState)(""),a=Object(m.a)(t,2),r=a[0],l=a[1],c=Object(i.c)((function(e){return e.weather})),s=c.data,u=c.isFiltered;Object(n.useEffect)((function(){if(s&&r){var t=s.filter((function(e){var t=r.type===e.type,a=!r.minTemp||r.minTemp<=e.temperature,n=!r.maxTemp||r.maxTemp>=e.temperature;return t&&a&&n}));e(g.filter(t))}}),[e,r]);return{getFilterData:function(e){l(e)},isFiltered:u,loadData:function(){e(g.fetchDays())}}}(),t=e.getFilterData,a=e.isFiltered,l=e.loadData,c=a?l:t,u=a?"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c":"\u041e\u0442\u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u0430\u0442\u044c",E=a?"disabled":null;return r.a.createElement(s.b,{initialValues:d,validationSchema:h,onSubmit:c},(function(){return r.a.createElement(s.a,{className:o.a.filter},r.a.createElement(T,{id:"cloudy",label:"\u041e\u0431\u043b\u0430\u0447\u043d\u043e",name:"type",type:"radio",value:"cloudy",disabled:E}),r.a.createElement(T,{id:"rainy",label:"\u0414\u043e\u0436\u0434\u043b\u0438\u0432\u043e",name:"type",type:"radio",value:"rainy",disabled:E}),r.a.createElement(T,{id:"sunny",label:"\u0421\u043e\u043b\u043d\u0435\u0447\u043d\u043e",name:"type",type:"radio",value:"sunny",disabled:E}),r.a.createElement(p,{label:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430",name:"minTemp",type:"number",id:"min-temperature",disabled:E}),r.a.createElement(p,{label:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430",name:"maxTemp",type:"number",id:"max-temperature",disabled:E}),r.a.createElement("button",{type:"submit"},u))}))},H=a(22),j=a.n(H),w=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.weather})),a=t.data,n=t.selectedDayIdx,r=t.isFiltered,l=a&&a[n];return{isFiltered:r,days:a&&a.slice(0,7),selectedDayIdx:n,selectedDayData:l,getDayId:function(t){e(g.selectDay(t))}}},N=a(15),x=a.n(N),I=function(){var e=w().selectedDayData;if(!e)return null;var t=e.day,a=e.humidity,n=e.rain_probability,l=e.temperature,c=e.type,i=j()(t).format("dddd"),s=j()(t).format("D MMMM");return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:x.a.head},r.a.createElement("div",{className:"".concat(x.a.icon," ").concat(x.a[c])}),r.a.createElement("div",{className:x.a["current-date"]},r.a.createElement("p",null,i),r.a.createElement("span",null,s))),r.a.createElement("div",{className:x.a["current-weather"]},r.a.createElement("p",{className:x.a.temperature},l),r.a.createElement("p",{className:x.a.meta},r.a.createElement("span",{className:x.a.rainy},"%",n),r.a.createElement("span",{className:x.a.humidity},"%",a))))},D=a(78),W=a.n(D),L=a(58),C=a(79),G=a.n(C),k=a(65),Y=a.n(k),z=function(e){var t=e.day,a=e.temperature,n=e.type,l=e.clickHandler,c=e.isActive,i=j()(t).format("dddd"),s=G()("".concat(Y.a.day),"".concat(Y.a[n]),Object(L.a)({},"".concat(Y.a.selected),c));return r.a.createElement("div",{className:s,onClick:l},r.a.createElement("p",null,i),r.a.createElement("span",null,a))},P=a(71),M=a.n(P),Q=function(){var e=w(),t=e.days,a=e.getDayId,n=e.selectedDayIdx,l=e.isFiltered,c=t&&0!==t.length&&t.map((function(e,t){var l=e.day,c=e.temperature,i=e.type,s=n===t;return r.a.createElement(z,{key:W.a.generate(),day:l,temperature:c,type:i,isActive:s,clickHandler:function(){return a(t)}})})),i=l&&t&&0===t.length&&r.a.createElement("div",{className:M.a.nodata},r.a.createElement("h1",null,"\u041f\u043e \u0437\u0430\u0434\u0430\u043d\u043d\u044b\u043c \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u044f\u043c \u043d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0434\u043d\u0435\u0439!"));return r.a.createElement("div",{className:M.a.forecast},i,c)},V=(a(102),function(){return r.a.createElement("div",{className:"loadingio-spinner-spinner-9x9vzlwnu96"},r.a.createElement("div",{className:"ldio-jv0gqqj6m0c"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}),q=a(80),B=a.n(q),J=function(){var e=function(){var e=Object(i.b)();Object(n.useEffect)((function(){e(g.fetchDays())}),[e]);var t=Object(i.c)((function(e){return e.weather}));return{error:t.error,isLoading:t.isLoading}}(),t=e.error,a=e.isLoading;if(t)return r.a.createElement("h1",null,t.message);var l=a&&r.a.createElement(V,null),c=!a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(A,null),r.a.createElement(I,null),r.a.createElement(Q,null));return r.a.createElement("main",{className:B.a.main},l,c)};a(103),a(104);j.a.locale("ru");var X=a(83),Z=a(16),U=a(31),$=Object.freeze({data:null,isLoading:!1,error:null,selectedDayIdx:0,isFiltered:!1}),K=Object(Z.c)({weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case F.WEATHER_START_FETCHING:return Object(U.a)({},e,{isLoading:!0});case F.WEATHER_STOP_FETCHING:return Object(U.a)({},e,{isLoading:!1});case F.WEATHER_FILL_DAYS:return Object(U.a)({},e,{error:null,data:n,isFiltered:!1});case F.WEATHER_SET_FETCHING_ERROR:return Object(U.a)({},e,{error:!0,data:n,isFiltered:!1});case F.WEATHER_SELECT_DAY:return Object(U.a)({},e,{selectedDayIdx:n});case F.WEATHER_FILTER:return Object(U.a)({},e,{data:n,error:null,isFiltered:!0});default:return e}}}),ee=a(81),te=a(82),ae=(Object(ee.createLogger)({duration:!0,collapsed:!0,colors:{title:function(e){return e.error?"firebrick":"deepskyblue"},prevState:function(){return"#1C5FAF"},action:function(){return"#149945"},nextState:function(){return"#A47104"},error:function(){return"#ff0005"}}}),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,Z.d),ne=[te.a];var re=Object(Z.e)(K,ae(Z.a.apply(void 0,Object(X.a)(ne))));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement((function(){return r.a.createElement(i.a,{store:re},r.a.createElement(J,null))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},15:function(e,t,a){e.exports={head:"Styles_head__3n6WR",cloudy:"Styles_cloudy__2jeHY",rainy:"Styles_rainy__GjQQo",sunny:"Styles_sunny__2Z3-T",icon:"Styles_icon__15zus","current-date":"Styles_current-date__zZJlV","current-weather":"Styles_current-weather__3lqrI",temperature:"Styles_temperature__33_i-",meta:"Styles_meta__3Yyy3",humidity:"Styles_humidity__2LcSz"}},64:function(e,t,a){e.exports={radio:"Styles_radio__3HIow",radio__input:"Styles_radio__input__2mS8C",radio__box:"Styles_radio__box__3Sr1R"}},65:function(e,t,a){e.exports={day:"Styles_day__3IcPB",selected:"Styles_selected__1YEIe",cloudy:"Styles_cloudy__37Fa2",rainy:"Styles_rainy__1pirN",sunny:"Styles_sunny__2YOo7"}},70:function(e,t,a){e.exports={"custom-input":"Styles_custom-input__1-ph1",error:"Styles_error__2ywrV"}},71:function(e,t,a){e.exports={forecast:"Styles_forecast__1xidm","btn-wrap":"Styles_btn-wrap__2QmOs",showmore:"Styles_showmore__21igy",nodata:"Styles_nodata__2Gw_E"}},76:function(e,t,a){e.exports={filter:"Styles_filter__xwshQ"}},80:function(e,t,a){e.exports={main:"Styles_main__3NFfL"}},84:function(e,t,a){e.exports=a(105)}},[[84,1,2]]]);
//# sourceMappingURL=main.56e6e2b2.chunk.js.map